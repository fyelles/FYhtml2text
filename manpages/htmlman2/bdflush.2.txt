

Linux
          manual pages
Section 2
 

 
 

Name
bdflush — start, flush, or tune buffer-dirty-flush
      daemon

Synopsis

#include <sys/kdaemon.h>

int
            bdflush(
int func,

 
long *address);

           
        

int
            bdflush(
int func,

 
long data);

           
        

 
DESCRIPTION
bdflush() starts, flushes,
      or tunes the buffer-dirty-flush daemon. Only a privileged
      process (one with the CAP_SYS_ADMIN capability) may call
      bdflush().
If func is
      negative or 0, and no daemon has been started, then
      bdflush() enters the daemon
      code and never returns.
If func is 1, some
      dirty buffers are written to disk.
If func is 2 or
      more and is even (low bit is 0), then address is the address of a
      long word, and the tuning parameter numbered (func−2)/2 is returned to
      the caller in that address.
If func is 3 or
      more and is odd (low bit is 1), then data is a long word, and the
      kernel sets tuning parameter numbered (func−3)/2 to that
      value.
The set of parameters, their values, and their valid
      ranges are defined in the kernel source file fs/buffer.c.

 
RETURN VALUE
If func is
      negative or 0 and the daemon successfully starts,
      bdflush() never returns.
      Otherwise, the return value is 0 on success and −1 on
      failure, with errno set to
      indicate the error.

 
ERRORS

EBUSY

An attempt was made to enter the daemon code after
            another process has already entered.

EFAULT

address
            points outside your accessible address space.

EINVAL

An attempt was made to read or write an invalid
            parameter number, or to write an invalid value to a
            parameter.

EPERM

Caller does not have the CAP_SYS_ADMIN capability.

 
CONFORMING TO
bdflush() is Linux-specific
      and should not be used in programs intended to be
      portable.

 
SEE ALSO
fsync(2), sync(2), sync(8), update(8)

 
COLOPHON
This page is part of release 3.33 of the Linux man-pages project. A
      description of the project, and information about reporting
      bugs, can be found at http://man7.org/linux/man-pages/.

                  Copyright (c) 1995 Michael Chastain (mecdocument.write('@');(@)shell.portal.com), 15 April 1995.

                  This is free documentation; you can redistribute it and/or

                  modify it under the terms of the GNU General Public License as

                  published by the Free Software Foundation; either version 2 of

                  the License, or (at your option) any later version.

                  The GNU General Public License's references to "object code"

                  and "executables" are to be interpreted as the output of any

                  document formatting or typesetting system, including

                  intermediate and printed output.

                  This manual is distributed in the hope that it will be useful,

                  but WITHOUT ANY WARRANTY; without even the implied warranty of

                  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the

                  GNU General Public License for more details.

                  You should have received a copy of the GNU General Public

                  License along with this manual; if not, write to the Free

                  Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,

                  USA.

                  Modified 1997-01-31 by Eric S. Raymond <esrdocument.write('@');(@)thyrsus.com>

                  Modified 2004-06-17 by Michael Kerrisk <mtk.manpagesdocument.write('@');(@)gmail.com>

