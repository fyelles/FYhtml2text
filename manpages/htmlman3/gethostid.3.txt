

Linux
          manual pages
Section 3
 

 
 

Name
gethostid, sethostid — get or set the unique
      identifier of the current host

Synopsis

#include <unistd.h>

long
            gethostid(
void);
 

           
        

int
            sethostid(
long hostid);

           
        

Note

Feature Test Macro Requirements
                      for glibc (see feature_test_macros(7)):

gethostid():

_BSD_SOURCE ||
                      _XOPEN_SOURCE
                      >= 500 || _XOPEN_SOURCE &&
                      _XOPEN_SOURCE_EXTENDED

sethostid():

_BSD_SOURCE ||
                      (_XOPEN_SOURCE
                      && _XOPEN_SOURCE <
                      500)

 
DESCRIPTION
gethostid() and sethostid() respectively get or set a
      unique 32-bit identifier for the current machine. The 32-bit
      identifier is intended to be unique among all UNIX systems in
      existence. This normally resembles the Internet address for
      the local machine, as returned by gethostbyname(3), and thus
      usually never needs to be set.
The sethostid() call is
      restricted to the superuser.

 
RETURN VALUE
gethostid() returns the
      32-bit identifier for the current host as set by sethostid().
On success, sethostid()
      returns 0; on error, −1 is returned, and errno is set to indicate the error.

 
ERRORS
sethostid() can fail with
      the following errors:

EACCES

The caller did not have permission to write to the
            file used to store the host ID.

EPERM

The calling process's effective user or group ID is
            not the same as its corresponding real ID.

 
CONFORMING TO
4.2BSD; these functions were dropped in 4.4BSD. SVr4
      includes gethostid() but not
      sethostid(). POSIX.1-2001
      specifies gethostid() but not
      sethostid().

 
NOTES
In the glibc implementation, the hostid is stored in the file
      /etc/hostid. (In glibc versions
      before 2.2, the file /var/adm/hostid was used.)
In the glibc implementation, if gethostid() cannot open the file containing
      the host ID, then it obtains the hostname using gethostname(2), passes that
      hostname to gethostbyname_r(3) in order
      to obtain the host's IPv4 address, and returns a value
      obtained by bit-twiddling the IPv4 address. (This value may
      not be unique.)

 
BUGS
It is impossible to ensure that the identifier is globally
      unique.

 
SEE ALSO
hostid(1), gethostbyname(3)

 
COLOPHON
This page is part of release 3.33 of the Linux man-pages project. A
      description of the project, and information about reporting
      bugs, can be found at http://man7.org/linux/man-pages/.

                  Copyright 1993 Rickard E. Faith (faithdocument.write('@');(@)cs.unc.edu)

                  Permission is granted to make and distribute verbatim copies of this

                  manual provided the copyright notice and this permission notice are

                  preserved on all copies.

                  Permission is granted to copy and distribute modified versions of this

                  manual under the conditions for verbatim copying, provided that the

                  entire resulting derived work is distributed under the terms of a

                  permission notice identical to this one.

                  Since the Linux kernel and libraries are constantly changing, this

                  manual page may be incorrect or out-of-date.  The author(s) assume no

                  responsibility for errors or omissions, or for damages resulting from

                  the use of the information contained herein.  The author(s) may not

                  have taken the same level of care in the production of this manual,

                  which is licensed free of charge, as they might when working

                  professionally.

                  Formatted or processed versions of this manual, if unaccompanied by

                  the source, must acknowledge the copyright and authors of this work.

                  Updated with additions from Mitchum DSouza <m.dsouzadocument.write('@');(@)mrc-apu.cam.ac.uk>

                  Portions Copyright 1993 Mitchum DSouza <m.dsouzadocument.write('@');(@)mrc-apu.cam.ac.uk>

                  Modified Tue Oct 22 00:22:35 EDT 1996 by Eric S. Raymond <esrdocument.write('@');(@)thyrsus.com>

