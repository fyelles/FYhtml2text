

Linux
          manual pages
Section 3
 

 
 

Name
strerror, strerror_r — return string describing
      error number

Synopsis

#include <string.h>

char
            *strerror(
int errnum);

           
        

int
            strerror_r(
int errnum,

 
char *buf,

 
size_t buflen);

           
        

/* XSI-compliant */

char
            *strerror_r(
int errnum,

 
char *buf,

 
size_t buflen);

           
        

Note

Feature Test Macro Requirements
                      for glibc (see feature_test_macros(7)):

The XSI-compliant version of
                      strerror_r() is
                      provided if:

(_POSIX_C_SOURCE >=
                      200112L || _XOPEN_SOURCE >= 600)
                      && ! _GNU_SOURCE

Otherwise, the GNU-specific
                      version is provided.

/* GNU-specific */
  

 
DESCRIPTION
The strerror() function
      returns a pointer to a string that describes the error code
      passed in the argument errnum, possibly using the
      LC_MESSAGES part of the current
      locale to select the appropriate language. This string must
      not be modified by the application, but may be modified by a
      subsequent call to perror(3) or strerror(). No library function will modify
      this string.
The strerror_r() function is
      similar to strerror(), but is
      thread safe. This function is available in two versions: an
      XSI-compliant version specified in POSIX.1-2001 (available
      since glibc 2.3.4), and a GNU-specific version (available
      since glibc 2.0). The XSI-compliant version is provided with
      the feature test macros settings shown in the SYNOPSIS;
      otherwise the GNU-specific version is provided. If no feature
      test macros are explicitly defined, then (since glibc 2.4)
      _POSIX_SOURCE is defined by
      default with the value 200112L, so that the XSI-compliant
      version of strerror_r() is
      provided by default.
The XSI-compliant strerror_r() is preferred for portable
      applications. It returns the error string in the
      user-supplied buffer buf of length buflen.
The GNU-specific strerror_r() returns a pointer to a string
      containing the error message. This may be either a pointer to
      a string that the function stores in buf, or a pointer to some
      (immutable) static string (in which case buf is unused). If the function
      stores a string in buf, then at most buflen bytes are stored (the
      string may be truncated if buflen is too small) and the
      string always includes a terminating null byte.

 
RETURN VALUE
The strerror() and the
      GNU-specific strerror_r()
      functions return the appropriate error description string, or
      an "Unknown error nnn" message if the error number is
      unknown.
The XSI-compliant strerror_r() function returns 0 on success;
      on error, −1 is returned and errno is set to indicate the error.

 
ERRORS

EINVAL

The value of errnum is not a valid
            error number.

ERANGE

Insufficient storage was supplied to contain the
            error description string.

 
CONFORMING TO
strerror() is specified by
      POSIX.1-2001, C89, C99. strerror_r() is specified by
      POSIX.1-2001.
The GNU-specific strerror_r() function is a nonstandard
      extension.
POSIX.1-2001 permits strerror() to set errno if the call encounters an error, but
      does not specify what value should be returned as the
      function result in the event of an error. On some systems,
      strerror() returns NULL if the
      error number is unknown. On other systems, strerror() returns a string something like
      "Error nnn occurred" and sets errno to EINVAL if the error number is unknown.

 
SEE ALSO
err(3), errno(3), error(3), perror(3), strsignal(3)

 
COLOPHON
This page is part of release 3.33 of the Linux man-pages project. A
      description of the project, and information about reporting
      bugs, can be found at http://man7.org/linux/man-pages/.

                    Copyright (C) 1993 David Metcalfe (daviddocument.write('@');(@)prism.demon.co.uk)

                  and Copyright (C) 2005, Michael Kerrisk <mtk.manpagesdocument.write('@');(@)gmail.com>

                  Permission is granted to make and distribute verbatim copies of this

                  manual provided the copyright notice and this permission notice are

                  preserved on all copies.

                  Permission is granted to copy and distribute modified versions of this

                  manual under the conditions for verbatim copying, provided that the

                  entire resulting derived work is distributed under the terms of a

                  permission notice identical to this one.

                  Since the Linux kernel and libraries are constantly changing, this

                  manual page may be incorrect or out-of-date.  The author(s) assume no

                  responsibility for errors or omissions, or for damages resulting from

                  the use of the information contained herein.  The author(s) may not

                  have taken the same level of care in the production of this manual,

                  which is licensed free of charge, as they might when working

                  professionally.

                  Formatted or processed versions of this manual, if unaccompanied by

                  the source, must acknowledge the copyright and authors of this work.

                  References consulted:
                      Linux libc source code

                      Lewine's _POSIX Programmer's Guide_ (O'Reilly & Associates, 1991)

                      386BSD man pages

                  Modified Sat Jul 24 18:05:30 1993 by Rik Faith <faithdocument.write('@');(@)cs.unc.edu>

                  Modified Fri Feb 16 14:25:17 1996 by Andries Brouwer <aebdocument.write('@');(@)cwi.nl>

                  Modified Sun Jul 21 20:55:44 1996 by Andries Brouwer <aebdocument.write('@');(@)cwi.nl>

                  Modified Mon Oct 15 21:16:25 2001 by John Levon <mozdocument.write('@');(@)compsoc.man.ac.uk>

                  Modified Tue Oct 16 00:04:43 2001 by Andries Brouwer <aebdocument.write('@');(@)cwi.nl>

                  Modified Fri Jun 20 03:04:30 2003 by Andries Brouwer <aebdocument.write('@');(@)cwi.nl>

                  2005-12-13, mtk, Substantial rewrite of strerror_r() description

                          Addition of extra material on portability and standards.

